# =============================================================================
# Thyroid Nodule Evaluation System - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment.
# For production, ensure all sensitive values are properly secured.

# -----------------------------------------------------------------------------
# Django Settings
# -----------------------------------------------------------------------------
# REQUIRED: Generate a secure key with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-secret-key-here-generate-a-secure-one

# Set to False in production
DJANGO_DEBUG=False

# Comma-separated list of allowed hosts (no spaces)
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# SSL redirect (set to True when using HTTPS)
SECURE_SSL_REDIRECT=False

# -----------------------------------------------------------------------------
# Database Settings
# -----------------------------------------------------------------------------
# PostgreSQL connection (used by docker-compose)
POSTGRES_DB=thyroid_db
POSTGRES_USER=thyroid_user
POSTGRES_PASSWORD=change-this-secure-password

# Full database URL (alternative to individual settings)
DATABASE_URL=postgres://thyroid_user:change-this-secure-password@db:5432/thyroid_db

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
CORS_ALLOWED_ORIGINS=http://localhost:8080,https://your-domain.com

# -----------------------------------------------------------------------------
# OpenAI Configuration (REQUIRED for RAG functionality)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-api-key-here

# Model for chat completions (default: gpt-4o)
OPENAI_MODEL=gpt-4o

# Model for embeddings (default: text-embedding-3-small)
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# -----------------------------------------------------------------------------
# Vector Store Settings
# -----------------------------------------------------------------------------
# Directory for ChromaDB persistence
VECTORSTORE_DIR=/data/chroma

# Set to true on first deployment to initialize vector store from PDFs
# After initialization, set back to false
INIT_VECTORSTORE=false

# -----------------------------------------------------------------------------
# Gunicorn Settings (Production)
# -----------------------------------------------------------------------------
# Number of worker processes (recommended: 2-4 x CPU cores)
GUNICORN_WORKERS=4

# Number of threads per worker
GUNICORN_THREADS=4

# Request timeout in seconds
GUNICORN_TIMEOUT=120

# Port to bind (internal, nginx handles external)
PORT=8000

# -----------------------------------------------------------------------------
# Nginx / Ports (Production with docker-compose.prod.yml)
# -----------------------------------------------------------------------------
HTTP_PORT=80
HTTPS_PORT=443
